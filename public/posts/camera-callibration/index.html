<!DOCTYPE html>
<html lang="en">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>
  Camera Callibration · Zuhaib Ul Zamann
</title>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">




<meta name="author" content="Zuhaib Ul Zamann">
<meta name="description" content="An introduction to the technique of camera callibration using Zhang&#39;s Algorithm">
<meta name="keywords" content="blog,developer,personal">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Camera Callibration">
  <meta name="twitter:description" content="An introduction to the technique of camera callibration using Zhang&#39;s Algorithm">

<meta property="og:url" content="http://localhost:1313/posts/camera-callibration/">
  <meta property="og:site_name" content="Zuhaib Ul Zamann">
  <meta property="og:title" content="Camera Callibration">
  <meta property="og:description" content="An introduction to the technique of camera callibration using Zhang&#39;s Algorithm">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-01-18T22:13:31+05:30">
    <meta property="article:modified_time" content="2025-01-18T22:13:31+05:30">
    <meta property="article:tag" content="Zhang&#39;s Algorithm">




<link rel="canonical" href="http://localhost:1313/posts/camera-callibration/">


<link rel="preload" href="/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>


  
  
  <link rel="stylesheet" href="/css/coder.css" media="screen">






  
    
    
    <link rel="stylesheet" href="/css/coder-dark.css" media="screen">
  



 




<link rel="icon" type="image/svg+xml" href="/images/favicon.svg" sizes="any">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

<link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/images/safari-pinned-tab.svg" color="#5bbad5">









</head>






<body class="preload-transitions colorscheme-auto">
  
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


  <main class="wrapper">
    <nav class="navigation">
  <section class="container">
    
    <a class="navigation-title" href="http://localhost:1313/">
      Zuhaib Ul Zamann
    </a>
    
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa-solid fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link " href="/about/">About</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/posts/">Blog</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/projects/">Projects</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link " href="/resume/">Résumé</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


    <div class="content">
      
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://localhost:1313/posts/camera-callibration/">
              Camera Callibration
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa-solid fa-calendar" aria-hidden="true"></i>
              <time datetime="2025-01-18T22:13:31&#43;05:30">
                January 18, 2025
              </time>
            </span>
            <span class="reading-time">
              <i class="fa-solid fa-clock" aria-hidden="true"></i>
              4-minute read
            </span>
          </div>
          <div class="authors">
  <i class="fa-solid fa-user" aria-hidden="true"></i>
    <a href="/authors/zuhaib-ul-zamann/">Zuhaib Ul Zamann</a></div>

          <div class="categories">
  <i class="fa-solid fa-folder" aria-hidden="true"></i>
    <a href="/categories/computer-vision/">Computer Vision</a>
      <span class="separator">•</span>
    <a href="/categories/camera-callibration/">Camera Callibration</a></div>

          <div class="tags">
  <i class="fa-solid fa-tag" aria-hidden="true"></i>
    <span class="tag">
      <a href="/tags/zhangs-algorithm/">Zhang&#39;s Algorithm</a>
    </span></div>

        </div>
      </header>

      <div class="post-content">
        
        <h2 id="introduction">
  Introduction
  <a class="heading-link" href="#introduction">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>In this blog, we will know about a basic pinhole camera. We will know what camera matrix is, what are intrinsic and extrinsic parameters. We will also learn how we can find these parameters and will also provide an implementation in python for the same.</p>
<p>So let us start</p>
<h2 id="pinhole-camera">
  Pinhole Camera
  <a class="heading-link" href="#pinhole-camera">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>In a pinhole camera light enters through a small aperture (known as pinhole) and is projected inside of the light proof box forming an inverted image on the image plane.</p>
<p>It can be mathematically modeled as shown below
<img src="/images/pinhole_camera.jpg" alt="Pinhole Camera"></p>
<p>Assuming the world coordinate frame be centered(origin) at the camera center and the image plane(or the focal plane) being $Z = f$ a point $(X, Y, Z)$ is mapped to a point $(x, y, f)$ such that the line joining $(X, Y, Z)$ and $(x, y, f)$ passes through the camera center (in this case,  origin).
Since $(0, 0,0), (X, Y, Z), (x, y, f)$ all lie on the same line, we have $(x, y, f) = \lambda (X, Y, Z) + (0, 0, 0)$</p>
<p>Simplifying, we get</p>
<p>$$x = \lambda X, y = \lambda Y, f = \lambda Z$$</p>
<p>$$\Rightarrow \lambda = \frac{f}{Z}$$</p>
<p>Hence, we have $x = \frac{X}{Z}f, y = \frac{Y}{Z}f$</p>
<p>In the above expression, we assumed that the origin of the image plane coordinate system lies at P(Principal point), which may not be true in general(Often in image coordinates, we consider the top left corner of the image as being the origin).</p>
<p>Hence if the coordinates of principal point are $(p_x, p_y)$, then the equations are given by $x = \frac{X}{Z}f + p_x, y = \frac{Y}{Z}f + p_y$</p>
<h2 id="homogeneous-coordinate-system">
  Homogeneous Coordinate system
  <a class="heading-link" href="#homogeneous-coordinate-system">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Consider two points $(X_1, Y_1, Z_1)$ and $(X_2, Y_2, Z_2)$ in $3D$ coordinate system. Suppose we identify the points $(X_1, Y_1, Z_1)$ and $(X_2, Y_2, Z_2)$ being equal if $\frac{X_1}{Z_1} = \frac{X_2}{Z_2}$ and $\frac{Y_1}{Z_1} = \frac{Y_2}{Z_2}$. Such a coordinate system is known  as $3D$ homogeneous coordinate system.</p>
<p>In homogeneous coordinate system two point $A$ and $B$ are equal if there exists a scalar $k$ such that $kA = B$ in real coordinate system.</p>
<p>We will use homogeneous coordinate system in the rest of the calculations from now on.</p>
<h3 id="homogeneous-image-coordinate-system">
  Homogeneous Image Coordinate system
  <a class="heading-link" href="#homogeneous-image-coordinate-system">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>We convert our $2D$ image coordinate system to $3D$ homogeneous coordinate system by mapping point $(x, y)$ to $(x, y, 1)$. Furthermore, we write any coordinate as a column matrix. Hence the point $(x, y)$ in image coordinates will be written as</p>
<p>$$\begin{bmatrix}x\\y\\1\end{bmatrix}$$</p>
<h3 id="homogeneous-world-coordinate-system">
  Homogeneous World Coordinate system
  <a class="heading-link" href="#homogeneous-world-coordinate-system">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h3>
<p>Similar to that Image coordinate system, we will convert our world coordinate system to a homogeneous coordinate system by mapping point $(X, Y, Z)$ in 3D world coordinates to $(X, Y, Z, 1)$ in 4D homogeneous coordinates.</p>
<p>It is easy to observe that we can move from one coordinate system to other coordinate system very easily e.g. a point $(6, 8, 4, 2)$ in homogeneous world coordinate system represents the point $(\frac{6}{2}, \frac{8}{2}, \frac{4}{2}) =  (3, 4, 2)$ in world coordinate system.</p>
<p>By using, homogeneous coordinate system, the mathematics of camera projection becomes linear.</p>
<h2 id="mathematics-of-camera-projection">
  Mathematics of camera projection
  <a class="heading-link" href="#mathematics-of-camera-projection">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>As we saw above, a point $X, Y, Z$ in world coordinate system is mapped to the point $x = \frac{X}{Z}f + p_x, y = \frac{Y}{Z}f + p_y$ in image coordinate system.</p>
<p>If we take the homogeneous versions of both the systems, then we can say that the point $(X, Y, Z, 1)$ is mapped to the point $(fX +Zp_x. fY + Zp_y , Z)$.</p>
<p>This mapping can be written as</p>
<p>$$\begin{bmatrix}x \\ y \\ z \end{bmatrix} = \begin{bmatrix}f &amp; 0 &amp; p_x &amp; 0 \\ 0 &amp; f&amp;p_y &amp;0 \\ 0&amp;0&amp;1&amp;0\end{bmatrix}\begin{bmatrix}X\\ Y\\ Z\\ 1\end{bmatrix}$$</p>
<p>Writing $$K = \begin{bmatrix}f &amp; 0 &amp; p_x\\ 0 &amp; f &amp; p_y \\ 0 &amp; 0 &amp; 1\end{bmatrix}$$</p>
<p>$$\textbf{X}_{\text{cam}} = \begin{bmatrix}X \\ Y \\ Z \\ 1\end{bmatrix}$$</p>
<p>$$\textbf{x} = \begin{bmatrix}x \\ y\\z \end{bmatrix}$$</p>
<p>then the above expression takes the form</p>
<p>$$\textbf{x} = K[I\vert 0]X_{\text{cam}}$$</p>
<p>Now in all of the above expressions, we have assumed that the world coordinate system is the camera coordinate system, which may not be true. However we can map any world coordinate system to the camera coordinate system by the simple expression $\textbf{X}_{\text{cam}} = R(\textbf{X} - \textbf{C})|$ where $R$ is a $3\times 3$ rotation matrix and $C$ are the world coordinates of the camera center.</p>
<p>This equation in homogeneous coordinates can be written as</p>
<p>$$\textbf{X}_{\text{cam}} = \begin{bmatrix}R &amp; -RC\\ 0 &amp; 1\end{bmatrix}\textbf{X}$$</p>
<p>Hence in any general setup, the mapping between the world coordinates and the image coordinates by a pinhole camera reads as</p>
<p>$$x = KR[I\vert -C]X$$</p>
<h2 id="homography">
  Homography
  <a class="heading-link" href="#homography">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<h2 id="direct-linear-transformdlt">
  Direct Linear Transform(DLT)
  <a class="heading-link" href="#direct-linear-transformdlt">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>
<p>Before describing Zhang&rsquo;s algorithm, we need to understand DLT which lies at the core of Zhang&rsquo;s algorithm.<br>
Consider a set of linear equations in a homogenous coordinate system</p>
<h2 id="zhangs-algorithm">
  Zhang&rsquo;s Algorithm
  <a class="heading-link" href="#zhangs-algorithm">
    <i class="fa-solid fa-link" aria-hidden="true" title="Link to heading"></i>
    <span class="sr-only">Link to heading</span>
  </a>
</h2>

      </div>


      <footer>
        


        
        
        
        
        
        
        
      </footer>
    </article>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
    integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">
  
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
    integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
    integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
    onload="renderMathInElement(document.body,
      {
        delimiters: [
          {left: '$$', right: '$$', display:true},
          {left: '$', right: '$', display:false},
          {left: '\\(', right: '\\)', display: false},
          {left: '\\[', right: '\\]', display: true}
        ]
      }
    );"></script>
  </section>

    </div>

    <footer class="footer">
  <section class="container">
    ©
    
    2025
     Zuhaib Ul Zamann 
    ·
    
    Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/" target="_blank" rel="noopener">Coder</a>.
    
  </section>
</footer>

  </main>

  

  
  
  <script src="/js/coder.js"></script>
  

  

  


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
</body>
</html>
